// const Room = require('./room-storage');
// 
// Room.init()

// const room = new Room('room-name');
// Room.addRoom(room, 'room-name');

// console.log(Room.rooms['room-name'
//  for(let i to 20) {
//     console.log(i);
//  }
// const async = require("async");

// function log(text, callback) {
//     const t = Math.floor(Math.random() * 100) + 1;
//     setTimeout(() => {
//         callback(null,`${text}-${t}`);
//     }, Math.floor(Math.random() * 100) + 1);
// }

// async.concat(['log1', 'log2', 'log3'], log, (err, results) => {
//     console.log(results);
// })
//

const text = `üéÅC√îNG B·ªê GI·∫¢I TH∆Ø·ªûNG VI·∫æT TRUY·ªÜN NG·∫ÆN M√ôA 06 ‚ÄúCHUY·ªÜN X∆ØA T√îI K·ªÇ‚Äù - ƒê·ª¢T 02üéÅ

***
üî∏Gi√≥ ƒë∆∞a c√¢y c·∫£i v·ªÅ tr·ªùi- Juki
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/gio-dua-cay-cai-ve-troi-juki-XVaIJAlMSid6.html 
1. N·ªòI DUNG C∆† B·∫¢N: 30
2. CH·∫§T L∆Ø·ª¢NG GHI √ÇM: 5
3. T∆Ø∆†NG T√ÅC: 1
4. CHIA S·∫∫: 
üí∞ T·ªîNG PI: 36

üî∏L∆Ø·ª†I G∆Ø∆†M THI√äNG C·ª¶A L·∫†C LONG - Chipüê£ü•®
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/luoi-guom-thieng-cua-lac-long-u3pRdf2er546.html 
1. N·ªòI DUNG C∆† B·∫¢N: 30
2. CH·∫§T L∆Ø·ª¢NG GHI √ÇM: 
3. T∆Ø∆†NG T√ÅC: 1
4. CHIA S·∫∫: 
üí∞ T·ªîNG PI: 31

üî∏B√≥ng L·ª≠a Tr√™n ƒê·∫•t M√™ Linh - N·∫Øng. - 02 CH∆Ø∆†NG 
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/chuong-1-bong-lua-tren-dat-me-linh-nang--fOboSSYrAMM6.html 
1. N·ªòI DUNG C∆† B·∫¢N: 30
2. CH·∫§T L∆Ø·ª¢NG GHI √ÇM: 
3. T∆Ø∆†NG T√ÅC: 
4. CHIA S·∫∫: 
üí∞ T·ªîNG PI: 30

üî∏L·ªõp h·ªçc th·∫ßy Tr√¨nh- Hoa Sala
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/lop-hoc-thay-trinh-hoa-sala-GUXhmPZs2146.html 
1. N·ªòI DUNG C∆† B·∫¢N: 30
2. CH·∫§T L∆Ø·ª¢NG GHI √ÇM: 
3. T∆Ø∆†NG T√ÅC: 
4. CHIA S·∫∫: 
üí∞ T·ªîNG PI: 30

üî∏D∆∞·ªõi b√≥ng c·ªù ƒë·∫°i vi·ªát - B√πn cuteüòò
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/duoi-bong-co-dai-viet-WXhYTX3rVBw6.html  
1. N·ªòI DUNG C∆† B·∫¢N: 30
2. CH·∫§T L∆Ø·ª¢NG GHI √ÇM: 
3. T∆Ø∆†NG T√ÅC: 
4. CHIA S·∫∫: 
üí∞ T·ªîNG PI: 30

üìç TRUY·ªÜN NG·∫ÆN KHUY·∫æN KH√çCH 20PI

üî∏X∆∞∆°ng R·ªìng
·∫¢ ƒê·∫°i N∆∞∆°ng - 03 CH∆Ø∆†NG
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/a-dai-nuong-chuong-1-xuong-rong-TgoLVIa3qPG6.html 

üî∏akina
>> L·ªùi Th·ªÅ D∆∞·ªõi TrƒÉng ·ªû Th√†nh C·ªï V·ªá ·∫§p
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/loi-the-duoi-trang-o-thanh-co-ve-ap-akina-K1OmJLfoZLi6.html 

>> Ng√†y Anh Tr·ªü V·ªÅ 
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/ngay-anh-tro-ve-akina-ToaCGTLrMoj6.html  

>> Chi·∫øc KhƒÉn R·∫±n C·ªßa M√° 
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/chiec-khan-ran-cua-ma-akina--3uAo3JCxlhX6.html 

üî∏Qu√°ch Th√°i Di
>> M√πa trƒÉng x∆∞a - 02 CH∆Ø∆†NG 
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/chuong-1-mua-trang-xua-quach-thai-di-w3FiKGCDEnm6.html

üî∏B√πn cuteüòò
>> B√≥ng ng∆∞·ªùi g√°c th√†nh
üëâ C√°c b·∫°n c√≥ th·ªÉ t√¨m ƒë·ªçc: https://piepme.com/bong-nguoi-gac-thanh-0hBYD8xik1A6.html 

C·∫¢M ∆†N C√ÅC M·∫™U TRUY·ªÜN NG·∫ÆN T·ª™ C√ÅC B·∫†N. H·∫∏N C√ÅC B·∫†N V√ÄO M√ôA GI·∫¢I SAU ü§ó`

// const PATTERN_AUTOLINK = /(?![^<]*>|[^<>]*<\/(?!(?:p|pre)>))(https?:\/\/[^\s]+)/gi;
const PATTERN_AUTOLINK = /(?![^<]*>|[^<>]*<\/(?!(?:p|pre)>))(https?:\/\/[a-z0-9&#=.\/\-?_]+)/gi;

text.split(PATTERN_AUTOLINK).forEach((item) => {
    if (!PATTERN_AUTOLINK.test(item)) {
        console.log('no', item)
        return;
    }
    console.log('ok', item)
});